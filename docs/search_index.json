[["index.html", "EDAV Final Project - Chess Analysis Chapter 1 Introduction", " EDAV Final Project - Chess Analysis Hanlin Tong, Wendy Qian, Yishi Wang 2020-12-18 Chapter 1 Introduction Inspired by recent Netflix series The Queens Gambit, which the starring actress Anya Taylor-Jay portrays Beth Harmon, a gifted girl orphan struggling with a drug addiction who grew in the 1960s male-dominated world of chess and became a grandmaster and an U.S. Champion, we were interested in what strategies chess players used in their games. History of chess can be traced back to 1500 years, while the predecessor of the game probably originated in India and spread to Persia. When the Arabs conquered Persia, chess was taken up by the Muslim world and subsequently spread to Southern Europe, where it evolved into roughly its current form in the 15th century. In the 20th century, chess theory leaped forward greatly. A World Chess Federation (FIDE) was established as well. In 1997, a computer first beats a chess world champion in the Deep Blue versus Garry Kasparov match, and since then, computer analysis has contributed to much of the development in chess theory and has become an important part of preparation in professional human chess. Online chess gaming, which was original in the mid 1990s, became popular in 21st century. Many factors affected players win rates but openings played vital parts in it. A chess opening, or the opening move, is the group of initial moves a game and it has been given names such as French Defense or Grobs Attack. There are dozens of different openings which are varied from quiet positional play, such as Reti Opening, to very aggressive move, the Latvian Gambit. Chess opening is recommended for any chess player. In this study, we will analyze various chess openings and their effects on winning probabilities. Meanwhile, the Sicilian Defense, as a chess opening frequently mentioned in the show The Queens Gambit, will be particularly studied its effectiveness among games played by different skill levels players. "],["data-sources.html", "Chapter 2 Data sources 2.1 About Dataset", " Chapter 2 Data sources 2.1 About Dataset Hanlin Tong was responsible for collecting the data and the chess games dataset studied in this project was collected from Kaggle.com. linkhttps://www.kaggle.com/datasnaek/chess The publisher collected over 20,000 games from a selection of users on the site Lichess.org, which is a free and open-source Internet chess server run by a non-profit organization of the sane name. Players can play anonymously and for those members who registered are allowed to play rated games on the server. This dataset is credible since i) it includes metadata, such as subtitle, tags, overview description and cover image, ii) it has file descriptions and used appropriate file formats. It is also licensed by CC0 1.0 Universal Public Domain Dedication, and iii) it has a public kernel and task. Combined, it achieved a total usability score of 8.2. Variables included but not limited in this study are:  Game ID  Rated (True / False)  Start Time  End Time  Number of Turns  Victory Status (Resign / Mate)  Winner (White / Black)  Time Increment: An amount of time added to the clock after each move is made.  Players Rating Number: Numbers represent goodness of players. Better players have higher scores which are calculated by the Glicko-2 rating method.  All Moves in Standard Chess Notation: Notations that recorded the moves or the position of pieces on a chessboard by algebraic chess notation.  Opening Name: A list of names of chess openings which refers to the initial moves of a chess game.  Opening Ply: Number of moves in the opening phase.  Opening Eco: Standardized code for chess opening names. No major problems or issues were found in this dataset, despite it is a three-year-old dataset, lots of information were contained within a single chess game. While exploring dataset, an interesting observation was captured. To against Kings Gambit players (a standard offensive opening), the Sicilian Defense strategy (a standard defensive opening) were used commonly among players. And we shall discuss its effect on winning rates in greater details following. "],["data-transformation.html", "Chapter 3 Data transformation 3.1 Cleaning Trivial Variables 3.2 Cleaning Rated Status 3.3 Cleaning Turns 3.4 Cleaning Users 3.5 Cleaning Opening Names 3.6 Cleaned Dataset", " Chapter 3 Data transformation 3.1 Cleaning Trivial Variables The dataset has the following variables. ## [1] &quot;id&quot; &quot;rated&quot; &quot;created_at&quot; &quot;last_move_at&quot; ## [5] &quot;turns&quot; &quot;victory_status&quot; &quot;winner&quot; &quot;increment_code&quot; ## [9] &quot;white_id&quot; &quot;white_rating&quot; &quot;black_id&quot; &quot;black_rating&quot; ## [13] &quot;moves&quot; &quot;opening_eco&quot; &quot;opening_name&quot; &quot;opening_ply&quot; We wanted to remove id, created_at, last_move_at, increment_code, moves, opening_eco, opening_ply since some of them, like id or increment_code do not have pivotal information for our problems. Or they are providing similar information as other variables, such as opening_eco. The rest variables are: ## [1] &quot;rated&quot; &quot;turns&quot; &quot;victory_status&quot; &quot;winner&quot; ## [5] &quot;white_id&quot; &quot;white_rating&quot; &quot;black_id&quot; &quot;black_rating&quot; ## [9] &quot;opening_name&quot; 3.2 Cleaning Rated Status ## ## False FALSE True TRUE ## 2048 1855 8723 7432 We changed all the strings to uppercase letter for consistency. ## ## FALSE TRUE ## 3903 16155 3.3 Cleaning Turns In this chess dataset, we assume that games which only have few turns are not meaningful since it is not usual to reach the final status by only few turns in a chess game. As the plot shows, the majority of the games have turns over 10 so that we just directly deleted games whose number of turns are under 10. 3.4 Cleaning Users For those players who only have played few games, their data may be outliers or cannot provide useful information for our analysis. Therefore, we keep the games played by users who only had played the chess game at least 3 times. 3.5 Cleaning Opening Names ## ## Sicilian Defense Queen&#39;s Pawn Game French Defense ## 452 221 198 ## Ruy Lopez King&#39;s Pawn Game Italian Game ## 173 170 154 ## English Opening Philidor Defense Caro-Kann Defense ## 138 115 104 ## Scandinavian Defense Zukertort Opening Four Knights Game ## 97 80 71 ## Scotch Game Queen&#39;s Gambit Declined Indian Game ## 68 66 61 ## Van&#39;t Kruijs Opening Bishop&#39;s Opening Modern Defense ## 56 53 51 ## Slav Defense Hungarian Opening ## 46 37 The original opening names are really messy since some openings have very detailed explanation. By doing related research, we decided to use the more general definition of each opening for each game. This tidy version is more operable for visualization and conclusion. 3.6 Cleaned Dataset ## [1] 3393 9 The cleaned dataset have 3393 observations and 9 variables. rated turns victory_status winner white_id white_rating black_id black_rating opening_name 4 TRUE 61 mate white daniamurashov 1439 adivanov2009 1454 Queens Pawn Game 5 TRUE 95 mate white nik221107 1523 adivanov2009 1469 Philidor Defense 15 FALSE 31 mate white shivangithegenius 1094 sureka_akshat 1141 Four Knights Game 16 FALSE 43 resign black sureka_akshat 1141 shivangithegenius 1094 Italian Game 17 FALSE 52 resign black shivangithegenius 1094 sureka_akshat 1141 Four Knights Game 18 FALSE 66 mate black sureka_akshat 1141 shivangithegenius 1094 Four Knights Game "],["missing-values.html", "Chapter 4 Missing values 4.1 Check Missing Values", " Chapter 4 Missing values 4.1 Check Missing Values Based on the missing data plot, the dark represents missing value. As the plot shows, there is no dark area so that we dont have to take any actions to deal with this problem. ## ## FALSE ## 33930 We use is.na() to double-check the missing values in the dataset. As the table shows, there is no missing values in this dataset. "],["results.html", "Chapter 5 Results 5.1 Ranking Players 5.2 Winning Rate of Each Opening 5.3 Exploring Sicilian Defense", " Chapter 5 Results 5.1 Ranking Players Players were grouped into 5 different levels based on their rating scores. Level 1: 750 ~ 1149 Level 2: 1150 ~ 1549 Level 3: 1550 ~ 1949 Level 4: 1950 ~ 2349 Level 5: 2350 ~ 2750 Most of the players ratings were between 1150 and 1950. Level 3 (1550 ~ 1949) has the largest number of players (482) while level 5 (2350 ~ 2750) has the smallest number of players (19). The distribution of players was slightly skewed to the left and the median number of players was in level 3. 5.1.1 Winning Rate in Each Level Among 5 levels, players placed in level 1 had the average lowest win rates compared to other players. As ratings went up, the average win rate within each level went up as well. At level 1, the average win rate was around 23% while at level 5, where most players had strong chess skills, had average win rate around 65%. Few players has win rates of 100% and 0 % and that is because they play only one game which was won or loss and did not play any longer. 5.1.2 Top Players in Each Level Graphs above displayed top 15 players in each level. All players played at least three games to different players and achieved high winning rates. For players placed in level 2 to level 4 (1150 ~ 2349), all top 15 players had achieved surprisingly high win rate of 100%. That may implied that these players were underestimated and should be placed in the higher level. 5.2 Winning Rate of Each Opening Players in Black or White had different choice of openings. Among various opening and defense strategies, Hungarian Opening had the highest winning probability (approximately 73%) against White. Moreover, Zukertort Opening had the highet winning probability (approximately 68%) against Black. Besides, Indian game and Vant Kruijs Opening were great against White (win rate around 70%) and Philidor Defense and Italian Game performed well against Black (win rate around 60%). 5.3 Exploring Sicilian Defense ## # A tibble: 10 x 2 ## opening_name counts ## &lt;chr&gt; &lt;int&gt; ## 1 Sicilian Defense 452 ## 2 Queen&#39;s Pawn Game 221 ## 3 French Defense 198 ## 4 Ruy Lopez 173 ## 5 King&#39;s Pawn Game 170 ## 6 Italian Game 154 ## 7 English Opening 138 ## 8 Philidor Defense 115 ## 9 Caro-Kann Defense 104 ## 10 Scandinavian Defense 97 During the 20000+ games data we analyzed, the Sicilian Defense was the most used strategy. The Sicilian Defence begins with the following moves: 1. e4 c5 and it is the most popular and best-scoring response to Whites first move 1.e4. Its popularity may attritubed to its combative nature which meant that Black was playing not just for equality in many lines, but for the advantage. Its popularity and effectiveness will be discussed in the following paragraphs. Above two graphs displayed players winning probabilities who implemented Sicilian Defense in each level. Apparently, players in level 4 used Sicilian Defense had the highest average win rate (75%) while level 1 players had the lowest win rate (0%). For level 3 players, the effectiveness of the Sicilian Defense varied greatly. Its average win rate was approximately 50% which was average compared to win rates in other levels, but it had the largest variance as well. Some players played the Sicilian Defense and achieved win rates around 78% and some players used the same strategy but never won. Besides, the scatterplot indicated that both Black or White high rating players had experience against the Sicilian Defense. When against higher rating players, lower rating players normally lost even though they played the Sicilian Defense. "],["interactive-component.html", "Chapter 6 Interactive component", " Chapter 6 Interactive component turn the winning rate distribution in each rating graph into d3 Winning rates distribution on level Source: https://www.kaggle.com/datasnaek/chess In order to have a better understanding the distribution of winning rates of each level, We apply the winning rate distribution of each level into d3. By clicking or moving the slider upward to choose different level, we can see each levels winning rate distribution in the histogram below. From the static graph model made by R, we roughly know the distribution of the winning rate in each level including the maximum, minimum and median. While in this D3 graph, by tuning the sliders value, we get a more straightforward view of how distribution changes between levels. We can find the median winning rate increases as the level gets higher, the proportion of 0 winning rate gets smaller as the level gets higher, while the proportion of 100% winning rate gets larger. "],["conclusion.html", "Chapter 7 Conclusion", " Chapter 7 Conclusion Though it has many variations, the Sicilian Defense has its limitations. As an old chess opening, the Sicilian Defense was well-known and was studied to chess players. They were proficient to either play it or to against it. Thus, based on the 20000+ games we had analyzed, white players had approximately 48% chance winning using the Sicilian Defense and the black players had approximately 52% chance winning. One limitation of this study was that the dataset size was too small. Not enough games were analyzed, especially in low levels and high levels. Thus, patterns discovered in both high and lower levels were biased and this issue can be fixed in the future study by collecting more game data. In future study, one can continue to study the top 20 frequency moves, the average number of moves in each chess openings or the relationship between number of turns and victory status. "]]
